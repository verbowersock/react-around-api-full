{"version":3,"sources":["Images/logo.svg","components/Header.js","components/Footer.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/ImagePopup.js","utils/api.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddNewCardPopup.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","Images/checkmark.svg","Images/fail.svg","components/InfoTooltip.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","location","useLocation","properties","text","route","email","pathname","userEmail","getProperties","className","src","logo","alt","to","onClick","onSignOut","Footer","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwned","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","length","some","i","cardLikeButtonClassName","style","backgroundImage","link","event","target","localName","onCardClick","aria-label","onCardDelete","name","onCardLike","Main","avatar","onEditAvatar","onEditProfile","about","onAddPlace","cards","map","PopupWithImage","onClose","api","options","this","url","baseUrl","token","fetch","headers","authorization","then","res","ok","json","Promise","reject","status","newInfo","method","body","JSON","stringify","newCard","title","id","avatarUrl","PopupWithForm","isOpen","overlay","closeButton","titleCentered","noValidate","onSubmit","type","children","EditProfilePopup","useState","setName","description","setDescription","useEffect","e","preventDefault","onUpdateUser","placeholder","value","required","minLength","maxLength","onChange","defaultValue","EditAvatarPopup","avatarRef","useRef","onUpdateAvatar","ref","AddNewCardPopup","setTitle","setUrl","onAddCard","ProtectedRoute","Component","component","loggedIn","Login","handleLoginSubmit","setUserEmail","userPassword","setUserPassword","Register","InfoToolTip","tooltipType","checkmark","fail","BASE_URL","withRouter","isEditProfilePopupOpen","setEditProfilePopupOpen","isAddPlacePopupOpen","setAddPlacePopupOpen","isEditAvatarPopupOpen","setEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","setLoggedIn","isInfoToolTipOpen","setInfoToolTipOpen","setTooltipType","setUserRegistered","localStorage","getItem","history","useHistory","forceRefresh","closeAllPopups","handleToolTip","resetForm","getInitialCards","result","Array","from","catch","err","console","log","data","auth","push","getUserInfo","Provider","removeItem","exact","path","password","response","setItem","Error","message","updateUserInfo","error","postNewCard","updateAvatar","current","deleteCard","newCards","filter","c","addLike","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.222135bb.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.4e8e0a1d.svg\";","import logo from \"../Images/logo.svg\";\nimport {Link, useLocation} from 'react-router-dom'\n\nfunction Header(props) {\n\n  const location = useLocation();\n  \n    let properties = {text:\"\", route: \"\", email: \"\"}\n    properties = getProperties()\n\n    function getProperties(){\n    if (location.pathname === \"/signup\") { \n      properties.text =\"Log in\"\n      properties.route = \"/login\"\n      properties.email = \"\"\n    }\n    else if (location.pathname === \"/login\") {\n      properties.text =\"Sign up\"\n      properties.route = \"/signup\"\n      properties.email = \"\"\n    }\n    else {\n      properties.text =\"Log out\"\n      properties.email = props.userEmail\n      properties.route = '/login'\n    }\n    return properties\n  }\n\n  return (\n    <>\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Around the US logo\" />\n      <div className=\"header__email\">\n\n    {properties.email}\n    \n    <Link to = {properties.route} className={`header__link `+ (location.pathname === \"/signup\"||location.pathname ===\"/login\" ? '':'header__link_logged-in')} onClick = {location.pathname === \"/\"?props.onSignOut:null}> \n    {properties.text}\n    </Link>\n    </div>\n    </header>\n    </>\n  );\n}\n\nexport default Header;","function Footer() {\n    return (\n      <footer>\n        <p className=\"footer__copyright\">Â© 2020. Veronika Bowersock</p>\n      </footer>\n    );\n  }\n  \n  export default Footer;\n  ","import React from 'react'\n\nexport const CurrentUserContext = React.createContext();","import React from 'react'\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\n\nfunction Card(props) {\n\n  const currentUser = React.useContext(CurrentUserContext)\n  const isOwned = currentUser && props.card.owner === currentUser._id;\n  const cardDeleteButtonClassName = \n    `images__delete  ${isOwned ? ``: `images__delete_hidden`}`;\n\n  const isLiked = props.card.likes.length === 0 ? false : props.card.likes.some(i=> currentUser && i === currentUser._id);\n\n  \n  const cardLikeButtonClassName = `images__like-button  ${isLiked ? `images__like-button_active`: ``}`\n\n  function handleLikeClick() {\n    props.onCardLike(props.card)\n  }\n\n  function handleDeleteClick(){\n    props.onCardDelete(props.card)\n  }\n\n  \n  function handleCardClick (event) {\n    //this is the only way i could make this work. event.preventDefault doesn't work here and I don't know why. If you have any better suggestion, I'm all ears but I spent hours scouring google and stackoverflow and this is the only solution that stopped the event from firing)\n    if (event.target.localName !== \"button\"){\n      props.onCardClick(props.card);\n    }\n  }\n    return (\n      <li className=\"images__card\">\n        <div\n          className=\"images__picture\"\n          style={{ backgroundImage: `url(${props.card.link})` }}\n          onClick={handleCardClick}>\n          <button \n            className={cardDeleteButtonClassName} \n            aria-label=\"Delete image\" \n            onClick={handleDeleteClick}></button>\n        </div>\n        <div className=\"images__caption\">\n          <p className=\"images__text\">{props.card.name}</p>\n          <div className=\"images__like\">\n            <button\n              className={cardLikeButtonClassName}\n              aria-label=\"Like image\"\n              onClick = {handleLikeClick}\n            ></button>\n            <span className=\"images__like-count\">{props.card.likes.length}</span>\n          </div>\n        </div>\n      </li>\n    );\n  }\n  export default Card;","import React from \"react\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext'\nimport Card from \"./Card\";\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext)\n\n  return (\n    <main className=\"main-content\">\n      <section className=\"profile\">\n        <img className=\"profile__image\" src={currentUser && currentUser.avatar} alt=\"profile pic\"/>\n        <div className=\"profile__overlay\" onClick={props.onEditAvatar}>\n          <button\n            className=\"profile__overlay_button\"\n            aria-label=\"change avatar\"\n            \n          />\n        </div>\n        <div className=\"profile__description\">\n          <div className=\"profile__name\">\n            <h1 className=\"profile__text\">{currentUser && currentUser.name}</h1>\n            <button\n              className=\"profile__edit\"\n              aria-label=\"Edit profile\"\n              onClick={props.onEditProfile}\n            />\n          </div>\n          <p className=\"profile__occupation\">{currentUser && currentUser.about}</p>\n        </div>\n        <button\n          className=\"profile__add\"\n          aria-label=\"Add image\"\n          onClick={props.onAddPlace}\n        />\n      </section>\n      <section className=\"images\">\n      <ul className=\"images__list\">\n        {props.cards.map((card) => (\n          <Card \n            key={card._id} \n            card={card} \n            onCardClick={props.onCardClick} \n            onCardLike = {props.onCardLike}\n            onCardDelete = {props.onCardDelete}\n            />\n        ))}\n      </ul>\n    </section>                \n    </main>\n  );\n}\n\nexport default Main;\n","function PopupWithImage(props) {\n    return (\n      <div className={`popup popup_image ${props.card ? \"\" : \"popup_hidden\"}`}>\n        <div className=\"popup__content popup__content_fullscreen\">\n          <button\n            name=\"close_button\"\n            className=\"popup__close popup__close_image\"\n            aria-label=\"Close popup\"\n            onClick={props.onClose}\n          >\n          </button>\n          <img\n            className=\"images__picture images__picture_fullscreen\"\n            src={props.card ? props.card.link : \"\"}\n            alt={props.card ? props.card.name: \"\"}\n          />\n          <p className=\"images__text images__text_fullscreen\">\n            {props.card ? props.card.name: \"\"}\n          </p>\n        </div>\n      </div>\n    );\n  }\n  export default PopupWithImage;","class Api {\n    constructor (options) {\n        this.url = options.baseUrl;\n    }\n\n\ngetInitialCards(token) {\n    return fetch(this.url+\"/cards\", {\n        headers:{\n            authorization: \"Bearer \" + token,\n        }\n    })\n    .then(res=> {\n        if (res.ok) {\n\n            return res.json()\n        }\n        return Promise.reject(`Error: ${res.status}`)\n    })\n    }\n\ngetUserInfo(token){\n    return fetch(this.url+\"/users/me\", {\n        headers:{\n            authorization: \"Bearer \" + token,\n        }\n    })\n    .then(res=> {\n        if (res.ok) {\n           \n            return res.json()\n        }\n        return Promise.reject(`Error: ${res.status}`)\n    })\n    }\n\nupdateUserInfo(newInfo, token){\n    return fetch(this.url+\"/users/me\", {\n        method: \"PATCH\",\n        headers:{\n            authorization: \"Bearer \" + token,\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            name: newInfo.name,\n            about: newInfo.about\n        })\n    })\n    .then(res=> {\n            if (res.ok) {\n               \n                return res.json()\n            }\n            return Promise.reject(`Error: ${res.status}`)\n        })\n    }\n\npostNewCard(newCard, token) {\n        return fetch(this.url+\"/cards\", {\n            method: \"POST\",\n            headers:{\n                authorization: \"Bearer \" + token,\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                name: newCard.title,\n                link: newCard.url\n            })\n        })\n        .then(res=> {\n                if (res.ok) {\n                   \n                    return res.json()\n                }\n                return Promise.reject(`Error: ${res.status}`)\n            })\n    \n}    \n\ndeleteCard(id, token)    {\n    return fetch(this.url+\"/cards\"+ \"/\" + id, {\n    method: \"DELETE\",\n    headers:{\n            authorization: \"Bearer \" + token,\n        \"Content-Type\": \"application/json\"\n    },\n})\n.then(res=> {\n        if (res.ok) {\n           \n            return res.json()\n        }\n        return Promise.reject(`Error: ${res.status}`)\n    })\n\n}    \n\naddLike(id, isLiked, token) {\n    const method = isLiked ? \"DELETE\" : \"PUT\";\n    return fetch(this.url+\"/cards/\"+id+\"/likes\", {\n        method: method,\n        headers:{\n            authorization: \"Bearer \" + token\n        }\n    })\n    .then(res=> {\n        if (res.ok) {\n           \n            return res.json()\n        }\n        return Promise.reject(`Error: ${res.status}`)\n    })\n    }\n\nupdateAvatar(avatarUrl, token) {\n    return fetch(this.url+\"/users/me/avatar\", {\n        method: \"PATCH\",\n        headers:{\n            authorization: \"Bearer \" + token,\n            \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n            avatar:avatarUrl\n        })\n        \n    })\n    .then(res=> {\n            if (res.ok) {\n               \n                return res.json()\n            }\n            return Promise.reject(`Error: ${res.status}`)\n        })\n}     \n\n}    \n\nexport const api = new Api({\n    baseUrl: \"http://localhost:3000\",\n    }\n  );\n\n\n\n","function PopupWithForm(props) {\n  const isOpen = props.isOpen ? \"\" : \"popup_hidden\";\n  const overlay = props.overlay ? \"popup\":\"\"\n  const closeButton = props.closeButton ? \"\":\"popup__close_hidden\"\n  const titleCentered = props.titleCentered ? \"popup__title_centered\":\"\"\n  return (\n    <div className={`${overlay} popup_form popup_form-${props.name} ${isOpen}`}>\n      <div className=\"popup__content\">\n        <form className={`popup__form popup__form_${props.name}`} noValidate onSubmit={props.onSubmit}>\n          <button\n            name=\"close_button\"\n            className={`popup__close popup__close_form-${props.name} ${closeButton}`}\n            type=\"reset\"\n            aria-label=\"Close\"\n            onClick={props.onClose}\n          >\n          </button>\n          <h2 className={`popup__title ${titleCentered}`}>{props.title}</h2>\n          {props.children}\n        </form>\n      </div>\n    </div>\n  );\n}\nexport default PopupWithForm;\n\n\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditProfilePopup (props) {\nconst [name, setName] = React.useState(\"\")\nconst [description, setDescription] = React.useState(\"\")\nconst currentUser = React.useContext(CurrentUserContext);\n\nReact.useEffect(() => {\n    setName(currentUser && currentUser.name);\n    setDescription(currentUser && currentUser.about)\n}, [currentUser])\n\nfunction handleNameChange(e) {\n    setName(e.target.value)\n}\n\nfunction handleDescriptionChange(e) {\n    setDescription(e.target.value)\n}\n\nfunction handleSubmit(e) {\n  e.preventDefault();\n  props.onUpdateUser({\n    name,\n    about: description,\n  })\n}\n\n  return(\n    <PopupWithForm \n      onClose = {props.onClose}\n      name=\"edit\" \n      title = \"Edit Profile\" \n      closeButton = {true}\n      overlay = {true}\n      titleCentered = {false}\n      isOpen = {props.isOpen}\n      onSubmit = {handleSubmit}\n      >\n        <input type=\"text\" \n          placeholder=\"Name\" \n          id=\"name-input\" \n          className=\"popup__field popup__field_name\" \n          name=\"name\" \n          value = {name || \"\"} \n          required minLength={2} \n          maxLength={40} \n          onChange = {handleNameChange}/>\n        <span className=\"popup__input-error\" id=\"name-input-error\" />\n        <input type=\"text\" \n          placeholder=\"About\" \n          id=\"about-input\" \n          className=\"popup__field popup__field_about\" \n          name=\"about\" \n          value = {description || \"\"} \n          required minLength={2} \n          maxLength={200} \n          onChange = {handleDescriptionChange}/>\n        <span className=\"popup__input-error\" id=\"about-input-error\" /> \n        <input\n          type=\"submit\"\n          className=\"popup__save\"\n          aria-label=\"Save\"\n          defaultValue=\"Save\"\n      />\n    </PopupWithForm>\n  )\n}\nexport default EditProfilePopup","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction EditAvatarPopup (props) {\n\n    const avatarRef = React.useRef('')\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onUpdateAvatar({\n            avatar: avatarRef\n      });\n    }\n\n    return(\n    <PopupWithForm\n        onClose = {props.onClose}\n        name=\"avatar\" \n        titleCentered = {false}\n        overlay = {true}\n        title = \"Change profile picture\"\n        closeButton = {true} \n        isOpen = {props.isOpen}\n        onSubmit = {handleSubmit}> \n          <input \n            type=\"url\" \n            placeholder=\"Avatar Link\" \n            id=\"link-input\" \n            name=\"link\" \n            required \n            className=\"popup__field popup__field_link\" \n            ref={avatarRef}/>\n          <span \n            className=\"popup__input-error\" \n            id=\"link-input-error\" />\n          <input \n            type=\"submit\" \n            className=\"popup__save\" \n            aria-label=\"Save\" \n            defaultValue=\"Save\"\n      />\n      </PopupWithForm>\n    ) \n}\nexport default EditAvatarPopup","import React from 'react';\nimport PopupWithForm from './PopupWithForm';\n\nfunction AddNewCardPopup (props) {\n\n    const [title, setTitle] = React.useState(\"\")\n    const [url, setUrl] = React.useState(\"\")\n    \n    function handleTitleChange(e) {\n        setTitle(e.target.value)\n    }\n    \n    function handleUrlChange(e) {\n        setUrl(e.target.value)\n    }\n\n    function handleSubmit(e) {\n        e.preventDefault();\n        props.onAddCard({\n          title,\n          url,\n        })\n        setUrl('')\n        setTitle('')\n      }\n\n    return(\n        <PopupWithForm\n          onClose = {props.onClose}\n          onSubmit = {handleSubmit}\n          titleCentered = {false}\n          overlay = {true}\n          closeButton = {true}\n          name=\"add\" \n          title = \"New Place\" \n          isOpen = {props.isOpen}>\n            <input type=\"text\" placeholder=\"Title\" id=\"title-input\" value={title} required minLength={1} maxLength={30} name=\"name\" className=\"popup__field popup__field_title\" onChange={handleTitleChange}/>\n            <span className=\"popup__input-error\" id=\"title-input-error\" />\n            <input type=\"url\" placeholder=\"Image Link\" id=\"link-input\" value={url} name=\"link\" required className=\"popup__field popup__field_link\" onChange={handleUrlChange}/>\n            <span className=\"popup__input-error\" id=\"link-input-error\" />\n            <input\n            type=\"submit\"\n            className=\"popup__save\"\n            aria-label=\"Save\"\n            defaultValue=\"Save\"\n          />\n      </PopupWithForm>\n    )\n}\n\nexport default AddNewCardPopup","import React from 'react';\r\nimport { Route, Redirect } from \"react-router-dom\";\r\n\r\nconst ProtectedRoute = ({ component: Component, ...props }) => {\r\n  return (\r\n    <Route>\r\n      {\r\n        () => props.loggedIn ? <Component {...props} /> : <Redirect to='./login' />\r\n      }\r\n    </Route>\r\n)}\r\n\r\nexport default ProtectedRoute;","import PopupWithForm from './PopupWithForm'\r\nimport {Link} from 'react-router-dom'\r\n\r\n\r\n\r\nfunction Login(props) {\r\n\r\n  const handleEmailChange= (e)=> {\r\n    props.setUserEmail(e.target.value)\r\n}\r\n\r\nconst handlePasswordChange= (e)=> {\r\n    props.setUserPassword(e.target.value)\r\n}\r\n  \r\n  return (\r\n    <>\r\n    <PopupWithForm\r\n      name='login'\r\n      title='Log in'\r\n      isOpen={true}\r\n      overlay = {false}\r\n      titleCentered = {true}\r\n      closeButton = {false}\r\n      onClose={props.onClose}\r\n      onSubmit={props.handleLoginSubmit}\r\n    >\r\n          <input type=\"text\" \r\n          placeholder=\"Email\" \r\n          id=\"email-input\" \r\n          className=\"popup__field popup__field_login\" \r\n          name=\"name\" \r\n          value = {props.userEmail} \r\n          required minLength={2} \r\n          maxLength={40} \r\n          onChange={handleEmailChange}\r\n/>\r\n          <input type=\"password\" \r\n          placeholder=\"Password\" \r\n          id=\"password-input\" \r\n          className=\"popup__field popup__field_login\" \r\n          name=\"about\" \r\n          value = {props.userPassword} \r\n          required minLength={2} \r\n          maxLength={200}\r\n          onChange={handlePasswordChange}\r\n/>\r\n        <input\r\n          className=\"popup__save popup__save_login\"\r\n          aria-label=\"Log in\"\r\n          defaultValue=\"Log in\"\r\n          onClick={props.onSubmit}\r\n      />\r\n      <Link className='popup__link' to='/signup'>\r\n          Not a member yet? Sign up here!\r\n        </Link>\r\n    </PopupWithForm>\r\n    \r\n  </>\r\n   \r\n  )\r\n}\r\n\r\nexport default Login;","import PopupWithForm from './PopupWithForm'\r\nimport {Link} from 'react-router-dom'\r\nimport React  from 'react'\r\n\r\nfunction Register(props) {\r\n\r\n  const handleEmailChange= (e)=> {\r\n      props.setUserEmail(e.target.value)\r\n  }\r\n\r\n  const handlePasswordChange= (e)=> {\r\n      props.setUserPassword(e.target.value)\r\n  }\r\n\r\n  return (\r\n\r\n    <PopupWithForm\r\n      name='login'\r\n      title='Sign Up'\r\n      isOpen={true}\r\n      overlay = {false}\r\n      titleCentered = {true}\r\n      closeButton = {false}\r\n      onClose={props.onClose}\r\n      onSubmit={props.handleLoginSubmit}\r\n    >\r\n         <input type=\"text\" \r\n          placeholder=\"Email\" \r\n          id=\"email-input\" \r\n          className=\"popup__field popup__field_login\" \r\n          name=\"name\" \r\n          value = {props.userEmail} \r\n          required minLength={2} \r\n          maxLength={40} \r\n          onChange={handleEmailChange}\r\n/>\r\n          <input type=\"password\" \r\n          placeholder=\"Password\" \r\n          id=\"password-input\" \r\n          className=\"popup__field popup__field_login\" \r\n          name=\"about\" \r\n          value = {props.userPassword} \r\n          required minLength={2} \r\n          maxLength={200}\r\n          onChange={handlePasswordChange}\r\n/>\r\n        <input\r\n          className=\"popup__save popup__save_login\"\r\n          aria-label=\"Sign Up\"\r\n          defaultValue=\"Sign Up\"\r\n          onClick={props.onSubmit}\r\n      />\r\n       <Link className='popup__link' to='/login'>\r\n        Already a member? Log in here!\r\n        </Link>\r\n    </PopupWithForm>\r\n   \r\n  )\r\n}\r\n\r\n\r\nexport default Register;","export default __webpack_public_path__ + \"static/media/checkmark.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\nimport checkmark from '../Images/checkmark.svg';\r\nimport fail from '../Images/fail.svg';\r\n\r\nfunction InfoToolTip(props) {\r\n  return (\r\n    <PopupWithForm name='tooltip' isOpen={props.isOpen} onClose={props.onClose} closeButton={true} overlay={true}>\r\n      <img\r\n        className='popup__tooltip-icon'\r\n        src={props.tooltipType === 'success' ? checkmark : fail}\r\n        alt='check mark'\r\n      />\r\n      <h2 className='popup__tooltip-message'>\r\n        {props.tooltipType === 'success'\r\n          ? 'Success! You have now been registered'\r\n          : 'Oops, something went wrong! Please try again.'}\r\n      </h2>\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default InfoToolTip;","export const BASE_URL = 'http://localhost:3000';\r\n\r\nexport const register = (email, password) => {\r\n  return fetch(`${BASE_URL}/signup`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then((response) => {\r\n    return response.json();\r\n  })\r\n  .then((res) => {\r\n    return res;\r\n  })\r\n  .catch((err) => console.log(err));\r\n};\r\n\r\nexport const authorize = (email, password) => {\r\n  return fetch(`${BASE_URL}/login`, {\r\n    method: 'POST',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json'\r\n    },\r\n    body: JSON.stringify({email, password})\r\n  })\r\n  .then((response => response.json()))\r\n  .then((data) => {\r\n    if (data.token){\r\n      localStorage.setItem('jwt', data.token);\r\n      return data;\r\n    }\r\n  })\r\n  .catch(err => console.log(err))\r\n};\r\n\r\nexport const checkToken = (token) => {\r\n  return fetch(`${BASE_URL}/users/me`, {\r\n    method: 'GET',\r\n    headers: {\r\n      'Accept': 'application/json',\r\n      'Content-Type': 'application/json',\r\n      'Authorization': `Bearer ${token}`,\r\n    }\r\n  })\r\n  .then(res => res.json())\r\n  .then(data => data)\r\n}\r\n","import React from 'react'\nimport Header from './Header.js';\nimport Footer from './Footer.js';\nimport Main from './Main.js';\nimport PopupWithImage from './ImagePopup';\nimport { api } from \"../utils/api.js\";\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\nimport EditProfilePopup from './EditProfilePopup';\nimport EditAvatarPopup from './EditAvatarPopup';\nimport AddNewCardPopup from './AddNewCardPopup';\nimport {Route, Switch, useHistory, withRouter } from 'react-router-dom';\nimport ProtectedRoute from './ProtectedRoute'\nimport Login from './Login'\nimport Register from './Register'\nimport InfoToolTip from './InfoTooltip'\nimport * as auth from '../utils/auth.js';\n\n\n\nfunction App() {\n  const [isEditProfilePopupOpen, setEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setAddPlacePopupOpen] = React.useState(false);\n  const [isEditAvatarPopupOpen, setEditAvatarPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState(null);\n  const [currentUser, setCurrentUser] = React.useState(null);\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [isInfoToolTipOpen, setInfoToolTipOpen] = React.useState(false);\n  const [tooltipType, setTooltipType] = React.useState('');\n  const [userEmail, setUserEmail] = React.useState(\"\");\n  const [userPassword, setUserPassword] = React.useState(\"\");\n  const [userRegistered, setUserRegistered] = React.useState(false);\n  const token = localStorage.getItem('jwt')\n\n\n\n  const history = useHistory({forceRefresh:true});\n  \n\n  React.useEffect(() => {\n    api\n      .getInitialCards(token)\n      .then((result) => {\n        result = Array.from(result);\n        setCards(result)\n      })\n      .catch((err) => {\n        console.log(err);\n      });\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    api.addLike(card._id, isLiked, token)\n    .then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard: c);\n      setCards(newCards);\n    })\n    .catch ((error) => {\n      console.log(error)\n    })\n  }\n\n  function handleCardDelete(card) {\n    api.deleteCard(card._id, token)\n    .then(() => {\n      const newCards = cards.filter((c) => c._id !== card._id);\n      setCards(newCards);\n  })\n  .catch ((error) => {\n    console.log(error)\n  })\n}\n\nfunction handleEditAvatarClick () {\n  setEditAvatarPopupOpen(true);\n}\n\nfunction handleEditProfileClick () {\n  setEditProfilePopupOpen(true);\n}\n\nfunction handleAddPlaceClick () {\n  setAddPlacePopupOpen(true);\n}\n\nfunction closeAllPopups () {\n  setEditAvatarPopupOpen(false);\n  setEditProfilePopupOpen(false);\n  setAddPlacePopupOpen(false);\n  setSelectedCard(null)\n  setInfoToolTipOpen(false)\n}\n\nfunction handleCardClick(card) {\n  setSelectedCard(card)\n}\n\nfunction handleUpdateUser({name, about}) {\n  api.updateUserInfo({name, about}, token)\n  .then((data)=> {\n    setCurrentUser(data);\n  })\n  .catch ((error) => {\n    console.log(error)\n  })\n  closeAllPopups();\n}\n\nfunction handleUpdateAvatar({avatar}) {\n  api.updateAvatar(avatar.current.value, token)\n  .then((data) => {\n  setCurrentUser(data);\n})\n  .catch ((error) => {\n  console.log(error)\n})\n  closeAllPopups();  \n}\n\nfunction handleToolTip(type) {\n  setTooltipType(type);\n  setInfoToolTipOpen(true);\n}\n\nfunction handleAddPlaceSubmit({title, url}) {\n  api.postNewCard({title, url}, token).then((data) => {\n    setCards([data, ...cards])\n  })\n  .catch ((error) => {\n    console.log(error)\n  })\n  closeAllPopups();\n}\n\nfunction resetForm () {\n  setUserEmail('');\n  setUserPassword('');\n}\n\nfunction handleRegistration() {\n    auth.register(userEmail, userPassword)\n      .then((res) => {\n        if (!res) {\n          handleToolTip('fail');\n          resetForm();\n          throw new Error(`400 - one of the fields was filled in incorrectly`);\n        }\n        })\n        .then((res) => {\n          setUserRegistered(true);\n          history.push('/login');\n          return res;\n        })\n        .then((res) => {\n          handleToolTip('success');\n          return res;\n        })\n      .then(resetForm)\n      .catch(err => {\n        console.log(err)\n      });\n  }\n\n  function handleLogin() {\n    auth\n      .authorize(userEmail, userPassword)\n      .then((res) => {\n        if (!userEmail || !userPassword) { \n          handleToolTip('fail');\n          resetForm(); \n          throw new Error('400 - one or more of the fields were not provided');\n        }\n        else if (!res) {\n          handleToolTip('fail');\n          resetForm(); \n          throw new Error('401 - Email or password are incorrect');\n        }\n      })\n      .then(() => {\n        setLoggedIn(true)\n\n      })\n      .then(() => {\n        history.push('/');\n       \n      })\n      .catch((err) => console.log(err.message));\n  };\n  \n  function handleSignOut () {\n    localStorage.removeItem('jwt');\n    setLoggedIn(false);\n    history.push('/login');\n  }\n\n  React.useEffect(() => {\n    \n    if (token) {\n      auth\n        .checkToken(token)\n        .then((res) => {\n          setLoggedIn(true);\n          setUserEmail(res.email);\n        })\n        .then(()=> \n        history.push(\"/\"))\n        .catch((err) => {\n          console.log(err);\n        });\n    } else {\n      setLoggedIn(false);\n    }\n  },[history]);\n  \n\nReact.useEffect(() => {\n  api\n    .getUserInfo(token)\n    .then((result) => {\n      setCurrentUser(result);\n    })\n    .catch((err) => {\n      console.log(err);\n    });\n}, [loggedIn]);\n\n  return (\n    <CurrentUserContext.Provider value = {currentUser}>\n        <div className = \"page\">\n      <Header \n        userEmail={userEmail}\n        loggedIn={loggedIn}\n        onSignOut = {handleSignOut}\n      />\n      <Switch>\n      <Route exact path=\"/login\">\n            <Login \n             userEmail = {userEmail}\n             setUserEmail = {setUserEmail}\n             userPassword = {userPassword}\n             setUserPassword = {setUserPassword}\n             onSubmit={handleLogin}\n            />\n            <InfoToolTip\n              isOpen={isInfoToolTipOpen}\n              onClose={closeAllPopups}\n              tooltipType = {tooltipType}\n              loggedIn={loggedIn}\n            />\n      </Route>\n      <Route exact path=\"/signup\">\n        <Register \n          userEmail = {userEmail}\n          setUserEmail = {setUserEmail}\n          userPassword = {userPassword}\n          setUserPassword = {setUserPassword}\n          onSubmit={handleRegistration}\n        />\n        <InfoToolTip\n              isOpen={isInfoToolTipOpen}\n              onClose={closeAllPopups}\n              loggedIn={loggedIn}\n              tooltipType = {tooltipType}\n            />\n      </Route>\n      <Route path=\"/\">\n      \n      <EditProfilePopup\n        isOpen={isEditProfilePopupOpen} \n        onClose={closeAllPopups}\n        onUpdateUser={handleUpdateUser}\n      /> \n      <AddNewCardPopup\n        isOpen={isAddPlacePopupOpen}\n        onClose={closeAllPopups}\n        onAddCard={handleAddPlaceSubmit}\n      />\n      <EditAvatarPopup \n        isOpen = {isEditAvatarPopupOpen}\n        onClose={closeAllPopups}\n        onUpdateAvatar={handleUpdateAvatar}\n        />\n      <PopupWithImage \n        onClose = {closeAllPopups}\n        card = {selectedCard}/>         \n       <ProtectedRoute \n            path=\"/\" \n            loggedIn={loggedIn} \n            component={Main} \n            onEditProfile = {handleEditProfileClick}\n            onAddPlace = {handleAddPlaceClick}\n            onEditAvatar = {handleEditAvatarClick}\n            onCardClick = {handleCardClick}\n            cards={cards}\n            onCardDelete = {handleCardDelete}\n            onCardLike={handleCardLike}/>    \n      <Footer />\n      </Route>\n      </Switch> \n    </div>\n    </CurrentUserContext.Provider>  \n  );\n}\n\nexport default withRouter(App);\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\n\nReactDOM.render(\n  \n  <React.StrictMode>\n    <BrowserRouter>\n    <App />\n    </BrowserRouter>\n    \n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}